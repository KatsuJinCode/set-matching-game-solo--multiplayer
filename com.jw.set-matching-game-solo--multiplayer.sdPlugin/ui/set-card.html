<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Card Configuration</title>
    <script src="https://sdpi-components.dev/releases/v4/sdpi-components.js"></script>
    <style>
        body {
            margin: 16px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        .section {
            margin-bottom: 24px;
            padding: 16px;
            background: #2a2a2a;
            border-radius: 8px;
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #fff;
        }

        .info-text {
            font-size: 12px;
            color: #999;
            margin-top: 8px;
            line-height: 1.4;
        }

        footer {
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid #3a3a3a;
            text-align: center;
            font-size: 11px;
            color: #666;
        }

        footer strong {
            color: #fff;
        }

        .warning {
            background: #4a3020;
            border-left: 3px solid #ff9933;
            padding: 12px;
            margin: 12px 0;
            border-radius: 4px;
            font-size: 12px;
            color: #ffcc99;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="section-title">Card Configuration</div>

        <sdpi-item label="Card Index">
            <sdpi-select setting="cardIndex" default="0">
                <option value="0">Card 1</option>
                <option value="1">Card 2</option>
                <option value="2">Card 3</option>
                <option value="3">Card 4</option>
                <option value="4">Card 5</option>
                <option value="5">Card 6</option>
                <option value="6">Card 7</option>
                <option value="7">Card 8</option>
                <option value="8">Card 9</option>
                <option value="9">Card 10</option>
                <option value="10">Card 11</option>
                <option value="11">Card 12</option>
            </sdpi-select>
        </sdpi-item>

        <div class="info-text">
            Select which of the 12 cards this button/dial displays. Use card indices 1-12 for a complete game board.
        </div>
    </div>

    <div class="section">
        <div class="section-title">Buzzer Configuration</div>

        <sdpi-item label="Is Buzzer Button">
            <sdpi-checkbox setting="isBuzzer" default="false"></sdpi-checkbox>
        </sdpi-item>

        <sdpi-item label="Player ID (if buzzer)">
            <sdpi-select setting="playerId" default="1">
                <option value="1">Player 1</option>
                <option value="2">Player 2</option>
                <option value="3">Player 3</option>
                <option value="4">Player 4</option>
            </sdpi-select>
        </sdpi-item>

        <div class="info-text">
            Enable "Is Buzzer Button" if this button is a dedicated buzzer for a player. The button will show the player's score and allow them to buzz in during live game.
        </div>

        <div class="warning">
            <strong>Note:</strong> Any card can also act as a buzzer! You don't need separate buzzer buttons unless you want dedicated score displays.
        </div>
    </div>

    <div class="section">
        <div class="section-title">How to Play</div>

        <div class="info-text">
            <strong>Setup:</strong><br>
            1. Place 12 card buttons/dials on your Stream Deck (indices 1-12)<br>
            2. For multiplayer, designate buzzer buttons for each player<br>
            3. Cards will automatically display from a shuffled deck<br>
            <br>
            <strong>Solo Mode (1 player):</strong><br>
            • Cards 1 & 2 show your score in top corners<br>
            • Click any 3 cards to form a Set<br>
            • Valid sets increment ✓, invalid sets increment ✗<br>
            <br>
            <strong>Multiplayer Mode (2-4 players):</strong><br>
            • Green border indicates game is live<br>
            • Press buzzer to lock others out<br>
            • Release buzzer to start 4-second timer<br>
            • Select 3 cards before timer expires<br>
            • Valid sets replace cards and add to score<br>
            • Invalid/timeout increments ✗<br>
            <br>
            <strong>Valid Set Rules:</strong><br>
            Each property (shape, color, count, fill) must be either:<br>
            • All the SAME across 3 cards, OR<br>
            • All DIFFERENT across 3 cards
        </div>
    </div>

    <footer>
        Build: <strong id="buildNumber">0.1.0</strong>
    </footer>

    <script>
        // Update build number from manifest
        fetch('../manifest.json')
            .then(res => res.json())
            .then(manifest => {
                document.getElementById('buildNumber').textContent = manifest.Version || '0.1.0';
            })
            .catch(() => {
                // Ignore errors, keep default version
            });
    </script>
</body>
</html>
